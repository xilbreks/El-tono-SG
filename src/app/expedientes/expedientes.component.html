<p>
    Actualizado al 01 oct 2023
</p>
<h3>Lsitado de Expedientes</h3>

<!-- <button (click)="getExpedientes()">
    Obtener Expedientes
</button>
<button (click)="descargarExcel()">
    Descargar
</button> -->

<div class="table-responsive">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>
                    #
                </th>
                <th>
                    Expediente
                </th>
                <th>
                    Materia
                </th>
                <th>
                    Especialidad
                </th>
                <th>
                    Demandante
                </th>
                <th>
                    Demandado
                </th>
                <th>
                    Inicio
                </th>
                <th>
                    ITER
                </th>
                <th>
                    Contrato
                </th>
                <th>
                    Pagos
                </th>
                <th>
                    Saldo
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let expediente of lstExpedientes; let i = index">
                <td>
                    {{i+1}}
                </td>
                <td>
                    <a [routerLink]="'/expediente/'+expediente.sexpediente">
                        {{expediente.sexpediente}}
                    </a>
                </td>
                <td>
                    {{expediente.smateria}}
                </td>
                <td>
                    {{expediente.sespecialidad}}
                </td>
                <td>
                    {{expediente.sdemandante}}
                </td>
                <td>
                    {{expediente.sdemandado}}
                </td>
                <td>
                    {{expediente.sfechainicio}}
                </td>
                <td>
                    {{expediente.niter}}
                </td>
                <td style="text-align: center;">
                    <span *ngIf="expediente.lcontrato" style="color: green;">
                        <i class="bi bi-check-circle-fill"></i>
                        <br>
                        {{expediente.nmontocontrato}}
                    </span>
                    <span *ngIf="!expediente.lcontrato">
                        -
                    </span>
                </td>
                <td>
                    <table class="table table-bordered">
                        <tbody>
                            <tr *ngFor="let p of expediente.lstpagos">
                                <td>
                                    {{p.sfecha}}
                                </td>
                                <td>
                                    {{p.nmonto}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td>
                    {{expediente.nsaldocontrato}}
                </td>
            </tr>
        </tbody>
    </table>
</div>
<h3>Cantidad de Expedientes seg√∫n Materia</h3>
<div class="table-responsive">
    <table class="table table-bordered table-striped">
        <tr>
            <th>
                Especialidad
            </th>
            <th>
                Materia
            </th>
            <th>
                Cantidad
            </th>
        </tr>
        <tr *ngFor="let mat of lstCantMat">
            <td>
                {{mat.sespecialidad}}
            </td>
            <td>
                {{mat.smateria}}
            </td>
            <td>
                {{mat.cantidad}}
            </td>
        </tr>
    </table>
</div>